DROP DATABASE IF EXISTS viajeros;

CREATE DATABASE IF NOT EXISTS viajeros;

USE viajeros;

CREATE TABLE bookings(
	id_booking int PRIMARY key AUTO_INCREMENT,
    name varchar(50) NOT null
);

CREATE TABLE service(
	id_service int PRIMARY KEY AUTO_INCREMENT,
    name varchar(50) NOT null,
    id_booking int ,
    FOREIGN KEY(id_booking) REFERENCES bookings(id_booking)
);

CREATE TABLE people(
	dni int(8) PRIMARY key,
    name varchar(25) NOT null,
DROP DATABASE IF EXISTS viajeros;

CREATE DATABASE IF NOT EXISTS viajeros;

USE viajeros;

CREATE TABLE bookings(
	id_booking int PRIMARY key AUTO_INCREMENT,
    name varchar(50) NOT null
);

CREATE TABLE service(
	id_service int PRIMARY KEY AUTO_INCREMENT,
    name varchar(50) NOT null,
    id_booking int ,
    FOREIGN KEY(id_booking) REFERENCES bookings(id_booking)
);

CREATE TABLE people(
	dni int(8) PRIMARY key,
    name varchar(25) NOT null,
    lasname varchar(16),
    age int,
    addres varchar(50),
    phone varchar(20)
);

CREATE TABLE login(
	email varchar(60) PRIMARY KEY,
    password varchar(50),
    id_dni int(8),
    FOREIGN KEY(id_dni) REFERENCES people(dni)
);

CREATE TABLE type_destination(
	id_type int PRIMARY key AUTO_INCREMENT,
    name varchar(30) NOT null
);

CREATE TABLE destination(
	id_destination int PRIMARY key AUTO_INCREMENT,
    name varchar(35) NOT null,
    province varchar(40),
    description varchar(75),
    imagen_url varchar(80),
    id_type_destination int,
    FOREIGN KEY(id_type_destination) REFERENCES type_destination(id_type)
);

CREATE TABLE travel_log(
	id_destination int,
    id_mail varchar(60),
    id_service int,
    date_coming date NOT null,
    date_finish date,
    price decimal(10,2), 
    FOREIGN KEY(id_destination) REFERENCES destination(id_destination),
    FOREIGN KEY(id_mail) REFERENCES login(email),
    FOREIGN KEY( id_service) REFERENCES service(id_service)
);